<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>WebGL Playground</title>
	<!-- CodeMirror CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/codemirror.min.css">
	<!-- CodeMirror Dark Mode Theme CSS -->
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/theme/material-darker.min.css">
	<!-- CodeMirror JS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/codemirror.min.js"></script>
	<!-- CodeMirror mode for C-like languages (GLSL is similar) -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/mode/clike/clike.min.js"></script>
	<!-- CodeMirror Vim keymap (for enabling Vim keybindings) -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/keymap/vim.min.js"></script>
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/monokai-sublime.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
	<!-- Add the GLSL language module -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/glsl.min.js"></script>
	<style>
		body {
			background-color: rgb(29, 30, 32);
			color: #ffffff;
			font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
			margin: 0;
			display: flex;
			flex-direction: column;
			align-items: center;
			padding: 20px;
		}

		canvas {
			display: block;
			border: 1px solid gray;
			width: 90%;
			height: 60vh;
		}

		/* New container styles */
		#mainContainer {
			display: flex;
			flex-wrap: wrap;
			gap: 1em;
			justify-content: center;
			width: 100%;
			align-self: stretch;
		}

		/* Two equal columns on larger screens */
		#previewContainer,
		#editorWrapper {
			flex: 1 1 45%;  /* approximately equal width, with some gap */
			box-sizing: border-box;
			/* Ensure the height is equal: set a fixed height (e.g., 60vh) or adjust as needed */
			height: 60vh;
		}

		/* Make the canvas fill the preview container */
		#previewContainer #myCanvas {
			width: 100%;
			height: calc(100% - 60px); /* subtract space used by shaderName and navContainer if needed */
			display: block;
			border: 1px solid gray;
		}

		/* Ensure the CodeMirror editor (inside #editorContainer) fills its parent */
		#editorContainer {
			height: 100%;
		}

		/* Responsive fallback: stack columns if window width is narrow */
		@media (max-width: 800px) {
			#mainContainer {
				flex-direction: column;
			}
			#previewContainer,
			#editorWrapper {
				flex: none;
				width: 100%;
				height: auto;
			}
			/* Optionally, adjust canvas height for mobile */
			#previewContainer #myCanvas {
				height: 60vh;
			}
		}
	</style>
</head>

<body>
	<h2 style="font-size: 18px; text-align: center;"><a href='https://gianluca.ai' style="color: white;"
			;>Gianluca</a>'s shader gallery</h2>
	<!-- Main two-column container -->
	<div id="mainContainer">
		<!-- Left column: Shader preview + UI -->
		<div id="previewContainer">
			<canvas id="myCanvas"></canvas>
			<div id="shaderName" style="margin-top: 20px; font-size: 18px; color: #ffffff; text-align: center;"></div>
			<div id="navContainer" style="width: 90%; text-align: center; margin-top: 10px;">
				<button id="prev" style="margin: 10px;">←</button>
				<button id="next" style="margin: 10px;">→</button>
			</div>
		</div>

		<!-- Right column: Code editor -->
		<div id="editorWrapper">
			<div id="editorContainer" style="position: relative; width: 100%; margin-top: 0;">
				<textarea id="shaderEditor" spellcheck="false"></textarea>
				<div id="editorControls" style="position: absolute; top: 5px; right: 5px; display: flex; align-items: center;">
					<input type="checkbox" id="vimToggle" style="margin-right: 5px;">
					<label for="vimToggle" style="font-size: 14px; color: #ffffff; margin-right: 10px;">Vim bindings</label>
					<button id="copyBtn" title="Copy raw text" style="background: transparent; border: '1px'; color: #ffffff; cursor: pointer; font-size: 14px;">Copy</button>
				</div>
			</div>
		</div>
	</div>

	<script src="main.js" type="module"></script>

</body>

<footer>
		<p>Copyright (c) 2025 Gianluca Truda. All Rights Reserved.</p>
</footer>

</html>
